# E2Eå…¨ãƒšãƒ¼ã‚¸ä¸€è¦§ã¨é·ç§»ãƒãƒƒãƒ—

ç”Ÿæˆæ—¥: 2025-10-20

## ğŸ“Š ãƒšãƒ¼ã‚¸åˆ†é¡

### 1. å…¬é–‹ãƒšãƒ¼ã‚¸ï¼ˆèªè¨¼ä¸è¦ï¼‰

| # | ãƒšãƒ¼ã‚¸å | ãƒ‘ã‚¹ | ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ãƒ¼#ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ | èª¬æ˜ |
|---|---------|------|------------------------|------|
| 1 | ãƒˆãƒƒãƒ—ãƒšãƒ¼ã‚¸ | `/` | `home#index` | ãƒ©ãƒ³ãƒ‡ã‚£ãƒ³ã‚°ãƒšãƒ¼ã‚¸ |
| 2 | ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ãƒãƒªã‚·ãƒ¼ | `/privacy` | `pages#privacy` | é™çš„ãƒšãƒ¼ã‚¸ |
| 3 | åˆ©ç”¨è¦ç´„ | `/terms` | `pages#terms` | é™çš„ãƒšãƒ¼ã‚¸ |
| 4 | ãŠå•ã„åˆã‚ã› | `/contact` | `pages#contact` | é™çš„ãƒšãƒ¼ã‚¸ |
| 5 | AGRRã«ã¤ã„ã¦ | `/about` | `pages#about` | é™çš„ãƒšãƒ¼ã‚¸ |
| 6 | ç„¡æ–™ä½œä»˜ã‘è¨ˆç”» - æ–°è¦ | `/public_plans` | `public_plans#new` | ãƒ•ã‚©ãƒ¼ãƒ  |
| 7 | ç„¡æ–™ä½œä»˜ã‘è¨ˆç”» - è¾²å ´ã‚µã‚¤ã‚ºé¸æŠ | `/public_plans/select_farm_size` | `public_plans#select_farm_size` | ãƒ•ã‚©ãƒ¼ãƒ  |
| 8 | ç„¡æ–™ä½œä»˜ã‘è¨ˆç”» - ä½œç‰©é¸æŠ | `/public_plans/select_crop` | `public_plans#select_crop` | ãƒ•ã‚©ãƒ¼ãƒ  |
| 9 | ç„¡æ–™ä½œä»˜ã‘è¨ˆç”» - æœ€é©åŒ–ä¸­ | `/public_plans/optimizing` | `public_plans#optimizing` | å¾…æ©Ÿç”»é¢ |
| 10 | ç„¡æ–™ä½œä»˜ã‘è¨ˆç”» - çµæœ | `/public_plans/results` | `public_plans#results` | çµæœè¡¨ç¤º |

### 2. èªè¨¼å¿…è¦ãƒšãƒ¼ã‚¸ï¼ˆé–‹ç™ºãƒ»ãƒ†ã‚¹ãƒˆç’°å¢ƒï¼‰

| # | ãƒšãƒ¼ã‚¸å | ãƒ‘ã‚¹ | ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ãƒ¼#ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ | èª¬æ˜ |
|---|---------|------|------------------------|------|
| 11 | ãƒ­ã‚°ã‚¤ãƒ³ | `/auth/login` | `auth#login` | èªè¨¼ç”»é¢ |
| 12 | ãƒ¢ãƒƒã‚¯ãƒ­ã‚°ã‚¤ãƒ³ | `/auth/test/mock_login` | `auth_test#mock_login` | ãƒ†ã‚¹ãƒˆç”¨ |

### 3. èªè¨¼å¿…é ˆãƒšãƒ¼ã‚¸ï¼ˆãƒ­ã‚°ã‚¤ãƒ³å¾Œï¼‰

#### è¾²å ´ãƒ»åœƒå ´ç®¡ç†

| # | ãƒšãƒ¼ã‚¸å | ãƒ‘ã‚¹ | ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ãƒ¼#ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ | èª¬æ˜ |
|---|---------|------|------------------------|------|
| 13 | è¾²å ´ä¸€è¦§ | `/farms` | `farms#index` | ä¸€è¦§ |
| 14 | è¾²å ´è©³ç´° | `/farms/:id` | `farms#show` | è©³ç´° |
| 15 | è¾²å ´æ–°è¦ä½œæˆ | `/farms/new` | `farms#new` | ãƒ•ã‚©ãƒ¼ãƒ  |
| 16 | è¾²å ´ç·¨é›† | `/farms/:id/edit` | `farms#edit` | ãƒ•ã‚©ãƒ¼ãƒ  |
| 17 | åœƒå ´ä¸€è¦§ | `/farms/:farm_id/fields` | `fields#index` | ä¸€è¦§ |
| 18 | åœƒå ´è©³ç´° | `/farms/:farm_id/fields/:id` | `fields#show` | è©³ç´° |
| 19 | åœƒå ´æ–°è¦ä½œæˆ | `/farms/:farm_id/fields/new` | `fields#new` | ãƒ•ã‚©ãƒ¼ãƒ  |
| 20 | åœƒå ´ç·¨é›† | `/farms/:farm_id/fields/:id/edit` | `fields#edit` | ãƒ•ã‚©ãƒ¼ãƒ  |

#### ä½œç‰©ç®¡ç†

| # | ãƒšãƒ¼ã‚¸å | ãƒ‘ã‚¹ | ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ãƒ¼#ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ | èª¬æ˜ |
|---|---------|------|------------------------|------|
| 21 | ä½œç‰©ä¸€è¦§ | `/crops` | `crops#index` | ä¸€è¦§ |
| 22 | ä½œç‰©è©³ç´° | `/crops/:id` | `crops#show` | è©³ç´° |
| 23 | ä½œç‰©æ–°è¦ä½œæˆ | `/crops/new` | `crops#new` | ãƒ•ã‚©ãƒ¼ãƒ  |
| 24 | ä½œç‰©ç·¨é›† | `/crops/:id/edit` | `crops#edit` | ãƒ•ã‚©ãƒ¼ãƒ  |

#### é€£ä½œãƒ«ãƒ¼ãƒ«ç®¡ç†

| # | ãƒšãƒ¼ã‚¸å | ãƒ‘ã‚¹ | ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ãƒ¼#ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ | èª¬æ˜ |
|---|---------|------|------------------------|------|
| 25 | ãƒ«ãƒ¼ãƒ«ä¸€è¦§ | `/interaction_rules` | `interaction_rules#index` | ä¸€è¦§ |
| 26 | ãƒ«ãƒ¼ãƒ«è©³ç´° | `/interaction_rules/:id` | `interaction_rules#show` | è©³ç´° |
| 27 | ãƒ«ãƒ¼ãƒ«æ–°è¦ä½œæˆ | `/interaction_rules/new` | `interaction_rules#new` | ãƒ•ã‚©ãƒ¼ãƒ  |
| 28 | ãƒ«ãƒ¼ãƒ«ç·¨é›† | `/interaction_rules/:id/edit` | `interaction_rules#edit` | ãƒ•ã‚©ãƒ¼ãƒ  |

#### ä½œä»˜ã‘è¨ˆç”»ï¼ˆèªè¨¼å¿…é ˆï¼‰

| # | ãƒšãƒ¼ã‚¸å | ãƒ‘ã‚¹ | ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ãƒ¼#ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ | èª¬æ˜ |
|---|---------|------|------------------------|------|
| 29 | è¨ˆç”»ä¸€è¦§ | `/plans` | `plans#index` | ä¸€è¦§ |
| 30 | è¨ˆç”»è©³ç´° | `/plans/:id` | `plans#show` | è©³ç´°ãƒ»ç·¨é›† |
| 31 | è¨ˆç”»æ–°è¦ä½œæˆ | `/plans/new` | `plans#new` | ãƒ•ã‚©ãƒ¼ãƒ  |
| 32 | ä½œç‰©é¸æŠ | `/plans/select_crop` | `plans#select_crop` | ãƒ•ã‚©ãƒ¼ãƒ  |
| 33 | æœ€é©åŒ–ä¸­ | `/plans/:id/optimizing` | `plans#optimizing` | å¾…æ©Ÿç”»é¢ |

---

## ğŸ”„ ãƒšãƒ¼ã‚¸é·ç§»ãƒãƒƒãƒ—

### ãƒˆãƒƒãƒ—ãƒšãƒ¼ã‚¸ã‹ã‚‰ã®é·ç§»

```
ãƒˆãƒƒãƒ— (/)
â”œâ”€â†’ ç„¡æ–™ä½œä»˜ã‘è¨ˆç”»é–‹å§‹ (/public_plans)
â”œâ”€â†’ ãƒ­ã‚°ã‚¤ãƒ³ (/auth/login) â€»é–‹ç™ºç’°å¢ƒã®ã¿
â”œâ”€â†’ ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ãƒãƒªã‚·ãƒ¼ (/privacy)
â”œâ”€â†’ åˆ©ç”¨è¦ç´„ (/terms)
â”œâ”€â†’ ãŠå•ã„åˆã‚ã› (/contact)
â””â”€â†’ AGRRã«ã¤ã„ã¦ (/about)
```

### ç„¡æ–™ä½œä»˜ã‘è¨ˆç”»ãƒ•ãƒ­ãƒ¼

```
/public_plans (æ–°è¦)
  â†“
/public_plans/select_farm_size (è¾²å ´ã‚µã‚¤ã‚ºé¸æŠ)
  â†“
/public_plans/select_crop (ä½œç‰©é¸æŠ)
  â†“
POST /public_plans (ä½œæˆ)
  â†“
/public_plans/optimizing (æœ€é©åŒ–ä¸­)
  â†“ (WebSocketçµŒç”±ã§è‡ªå‹•é·ç§»)
/public_plans/results (çµæœè¡¨ç¤º)
```

### èªè¨¼å¾Œã®è¾²å ´ãƒ»åœƒå ´ç®¡ç†ãƒ•ãƒ­ãƒ¼

```
ãƒ­ã‚°ã‚¤ãƒ³å¾Œ â†’ /farms (è¾²å ´ä¸€è¦§)
  â”œâ”€â†’ /farms/new (æ–°è¦ä½œæˆ)
  â”‚     â†“
  â”‚   POST /farms
  â”‚     â†“
  â”‚   /farms/:id (è©³ç´°)
  â”‚
  â””â”€â†’ /farms/:id (è©³ç´°)
        â”œâ”€â†’ /farms/:id/edit (ç·¨é›†)
        â”œâ”€â†’ /farms/:farm_id/fields (åœƒå ´ä¸€è¦§)
        â”‚     â”œâ”€â†’ /farms/:farm_id/fields/new (æ–°è¦)
        â”‚     â””â”€â†’ /farms/:farm_id/fields/:id (è©³ç´°)
        â”‚           â””â”€â†’ /farms/:farm_id/fields/:id/edit (ç·¨é›†)
        â””â”€â†’ DELETE /farms/:id (å‰Šé™¤å¾Œ â†’ /farms)
```

### ä½œç‰©ç®¡ç†ãƒ•ãƒ­ãƒ¼

```
/crops (ä¸€è¦§)
  â”œâ”€â†’ /crops/new (æ–°è¦ä½œæˆ)
  â”‚     â†“
  â”‚   POST /crops
  â”‚     â†“
  â”‚   /crops/:id (è©³ç´°)
  â”‚
  â””â”€â†’ /crops/:id (è©³ç´°)
        â”œâ”€â†’ /crops/:id/edit (ç·¨é›†)
        â””â”€â†’ DELETE /crops/:id (å‰Šé™¤å¾Œ â†’ /crops)
```

### é€£ä½œãƒ«ãƒ¼ãƒ«ç®¡ç†ãƒ•ãƒ­ãƒ¼

```
/interaction_rules (ä¸€è¦§)
  â”œâ”€â†’ /interaction_rules/new (æ–°è¦ä½œæˆ)
  â”‚     â†“
  â”‚   POST /interaction_rules
  â”‚     â†“
  â”‚   /interaction_rules/:id (è©³ç´°)
  â”‚
  â””â”€â†’ /interaction_rules/:id (è©³ç´°)
        â”œâ”€â†’ /interaction_rules/:id/edit (ç·¨é›†)
        â””â”€â†’ DELETE /interaction_rules/:id (å‰Šé™¤å¾Œ â†’ /interaction_rules)
```

### ä½œä»˜ã‘è¨ˆç”»ãƒ•ãƒ­ãƒ¼ï¼ˆèªè¨¼å¿…é ˆï¼‰

```
/plans (ä¸€è¦§)
  â”œâ”€â†’ /plans/new (æ–°è¦ä½œæˆ)
  â”‚     â†“
  â”‚   /plans/select_crop (ä½œç‰©é¸æŠ)
  â”‚     â†“
  â”‚   POST /plans
  â”‚     â†“
  â”‚   /plans/:id (è©³ç´°ãƒ»ç·¨é›†ç”»é¢)
  â”‚
  â””â”€â†’ /plans/:id (è©³ç´°)
        â”œâ”€â†’ /plans/:id/optimizing (æœ€é©åŒ–)
        â”œâ”€â†’ POST /plans/:id/copy (ã‚³ãƒ”ãƒ¼)
        â””â”€â†’ DELETE /plans/:id (å‰Šé™¤å¾Œ â†’ /plans)
```

---

## ğŸ¯ ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¸ãƒ£ãƒ¼ãƒ‹ãƒ¼ï¼ˆå„ªå…ˆåº¦é †ï¼‰

### å„ªå…ˆåº¦1: ã‚¯ãƒªãƒ†ã‚£ã‚«ãƒ«ãƒ‘ã‚¹

1. **ç„¡æ–™ä½œä»˜ã‘è¨ˆç”»ã®å®Œå…¨ãƒ•ãƒ­ãƒ¼**ï¼ˆèªè¨¼ä¸è¦ï¼‰
   - ãƒˆãƒƒãƒ— â†’ ç„¡æ–™è¨ˆç”» â†’ è¾²å ´ã‚µã‚¤ã‚º â†’ ä½œç‰©é¸æŠ â†’ ä½œæˆ â†’ æœ€é©åŒ– â†’ çµæœ

2. **èªè¨¼å¾Œã®åŸºæœ¬ãƒ•ãƒ­ãƒ¼**
   - ãƒ­ã‚°ã‚¤ãƒ³ â†’ è¾²å ´ä¸€è¦§ â†’ è¾²å ´ä½œæˆ â†’ åœƒå ´ä½œæˆ â†’ è¨ˆç”»ä½œæˆ

### å„ªå…ˆåº¦2: é‡è¦ãªç®¡ç†æ©Ÿèƒ½

3. **ä½œç‰©ç®¡ç†ãƒ•ãƒ­ãƒ¼**
   - ä½œç‰©ä¸€è¦§ â†’ ä½œç‰©ä½œæˆ â†’ ä½œç‰©ç·¨é›† â†’ ä½œç‰©å‰Šé™¤

4. **é€£ä½œãƒ«ãƒ¼ãƒ«ç®¡ç†ãƒ•ãƒ­ãƒ¼**
   - ãƒ«ãƒ¼ãƒ«ä¸€è¦§ â†’ ãƒ«ãƒ¼ãƒ«ä½œæˆ â†’ ãƒ«ãƒ¼ãƒ«ç·¨é›†

### å„ªå…ˆåº¦3: é™çš„ãƒšãƒ¼ã‚¸

5. **æƒ…å ±ãƒšãƒ¼ã‚¸**
   - ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ãƒãƒªã‚·ãƒ¼ã€åˆ©ç”¨è¦ç´„ã€ãŠå•ã„åˆã‚ã›ã€AGRRã«ã¤ã„ã¦

---

## ğŸ“ E2Eãƒ†ã‚¹ãƒˆè¨ˆç”»

### ãƒ†ã‚¹ãƒˆæˆ¦ç•¥

1. **ã‚·ã‚¹ãƒ†ãƒ ãƒ†ã‚¹ãƒˆï¼ˆCapybaraï¼‰** - ãƒ–ãƒ©ã‚¦ã‚¶æ“ä½œ
2. **çµ±åˆãƒ†ã‚¹ãƒˆ** - ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ãƒ¼ï¼‹ãƒ“ãƒ¥ãƒ¼
3. **API ãƒ†ã‚¹ãƒˆ** - JSON ãƒ¬ã‚¹ãƒãƒ³ã‚¹

### ã‚«ãƒãƒ¬ãƒƒã‚¸ç›®æ¨™

- **å…¬é–‹ãƒšãƒ¼ã‚¸**: 100% ï¼ˆ10ãƒšãƒ¼ã‚¸ã™ã¹ã¦ï¼‰
- **èªè¨¼ãƒšãƒ¼ã‚¸**: 100% ï¼ˆ23ãƒšãƒ¼ã‚¸ã™ã¹ã¦ï¼‰
- **ä¸»è¦ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¸ãƒ£ãƒ¼ãƒ‹ãƒ¼**: 100% ï¼ˆ5ãƒ•ãƒ­ãƒ¼ã™ã¹ã¦ï¼‰

---

## ğŸš€ æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—

1. âœ… ãƒšãƒ¼ã‚¸ä¸€è¦§ä½œæˆå®Œäº†
2. â³ E2Eãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ä½œæˆ
3. â³ ãƒ†ã‚¹ãƒˆå®Ÿè¡Œã¨ã‚«ãƒãƒ¬ãƒƒã‚¸ç¢ºèª

