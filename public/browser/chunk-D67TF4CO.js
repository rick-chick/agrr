import{a as h}from"./chunk-DLSCGTMR.js";import"./chunk-S2ZNJ6LP.js";import"./chunk-TVVNGJEJ.js";import{e as L}from"./chunk-FUJATOUC.js";import"./chunk-TEDWIW3V.js";import"./chunk-ZHQLFSMJ.js";import{g as b,j as E}from"./chunk-NXFG3DMW.js";import{$ as f,Aa as s,Fb as S,Ia as u,Ma as _,Ra as x,Xa as z,Ya as C,_ as d,ab as m,bb as r,cb as n,hb as g,lb as F,nb as a,vb as o,wb as p,xb as v}from"./chunk-OVGF36KA.js";var O=i=>["/fertilizes",i,"edit"];function I(i,t){i&1&&(r(0,"p"),o(1,"Loading..."),n())}function N(i,t){if(i&1&&(r(0,"p",2),o(1),n()),i&2){let e=a();s(),p(e.error)}}function T(i,t){if(i&1){let e=g();r(0,"li")(1,"strong"),o(2),n(),r(3,"span"),o(4),n(),r(5,"a",4),o(6,"Edit"),n(),r(7,"button",5),F("click",function(){let c=d(e).$implicit,y=a(2);return f(y.deleteFertilize(c.id))}),o(8,"Delete"),n()()}if(i&2){let e=t.$implicit,l=a(2);s(2),p(e.name),s(2),v(" (NPK: ",l.formatNpk(e),")"),s(),m("routerLink",S(3,O,e.id))}}function w(i,t){if(i&1&&(r(0,"ul"),x(1,T,9,5,"li",3),n()),i&2){let e=a();s(),m("ngForOf",e.fertilizes)}}var k=class i{constructor(t){this.fertilizeService=t}fertilizes=[];loading=!0;error=null;ngOnInit(){this.fertilizeService.list().subscribe({next:t=>{this.fertilizes=t,this.loading=!1},error:t=>{this.error=t.message,this.loading=!1}})}deleteFertilize(t){confirm("Delete this fertilize?")&&this.fertilizeService.destroy(t).subscribe({next:()=>{this.fertilizes=this.fertilizes.filter(e=>e.id!==t)},error:e=>{this.error=e.message}})}formatNpk(t){let e=t.n??"-",l=t.p??"-",c=t.k??"-";return`${e}/${l}/${c}`}static \u0275fac=function(e){return new(e||i)(u(h))};static \u0275cmp=_({type:i,selectors:[["app-fertilize-list"]],decls:8,vars:1,consts:[[1,"page"],["routerLink","/fertilizes/new"],[1,"error"],[4,"ngFor","ngForOf"],[3,"routerLink"],["type","button",3,"click"]],template:function(e,l){e&1&&(r(0,"section",0)(1,"h2"),o(2,"Fertilizes"),n(),r(3,"a",1),o(4,"Create Fertilize"),n(),z(5,I,2,0,"p")(6,N,2,1,"p",2)(7,w,2,1,"ul"),n()),e&2&&(s(5),C(l.loading?5:l.error?6:7))},dependencies:[E,b,L],styles:[".page[_ngcontent-%COMP%]{background:#fff;padding:20px;border-radius:12px;border:1px solid #e3e5e8}.error[_ngcontent-%COMP%]{color:#dc2626}"]})};export{k as FertilizeListComponent};
