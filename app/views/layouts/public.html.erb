<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title><%= content_for?(:title) ? yield(:title) : "‰Ωú‰ªò„ÅëË®àÁîª - AGRR" %></title>
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <%= csrf_meta_tags %>
  <%= csp_meta_tag %>
  
  <%= stylesheet_link_tag "application", "data-turbo-track": "reload" %>
  <%= stylesheet_link_tag "fields", "data-turbo-track": "reload" %>
  <%= javascript_include_tag "application", "data-turbo-track": "reload", type: "module" %>
  
  <style>
    /* Override body styles for public plans */
    body {
      margin: 0;
      padding: 0;
      background: #f8f9fa;
      min-height: 100vh;
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
    }
    
    /* „Éä„Éì„Ç≤„Éº„Ç∑„Éß„É≥„Éê„ÉºÔºàhome/index.html.erb„Å®Âêå„Åò„Çπ„Çø„Ç§„É´Ôºâ */
    .navbar {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      background: rgba(255, 255, 255, 0.95);
      backdrop-filter: blur(10px);
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
      padding: 1rem 2rem;
      z-index: 1000;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .navbar-brand {
      font-size: 1.5rem;
      font-weight: bold;
      color: #2d5016;
      text-decoration: none;
    }

    .navbar-nav {
      display: flex;
      gap: 1.5rem;
      align-items: center;
    }

    .nav-link {
      text-decoration: none;
      color: #555;
      font-weight: 500;
      transition: color 0.3s;
      padding: 0.5rem 1rem;
    }

    .nav-link:hover {
      color: #2d5016;
    }

    .btn-primary {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      padding: 0.75rem 1.5rem;
      border-radius: 25px;
      text-decoration: none;
      font-weight: 600;
      transition: transform 0.3s, box-shadow 0.3s;
      display: inline-block;
      border: none;
      cursor: pointer;
    }

    .btn-primary:hover {
      transform: translateY(-2px);
      box-shadow: 0 10px 20px rgba(102, 126, 234, 0.4);
    }

    .btn-secondary {
      background: white;
      color: #667eea;
      border: 2px solid #667eea;
      padding: 0.75rem 1.5rem;
      border-radius: 25px;
      text-decoration: none;
      font-weight: 600;
      transition: all 0.3s;
      display: inline-block;
      cursor: pointer;
    }

    .btn-secondary:hover {
      background: #667eea;
      color: white;
    }
    
    /* „É¨„Çπ„Éù„É≥„Ç∑„Éñ */
    @media (max-width: 768px) {
      .navbar {
        padding: 1rem;
      }

      .navbar-nav {
        gap: 0.5rem;
      }

      .nav-link {
        padding: 0.5rem;
        font-size: 0.9rem;
      }
      
      .btn-primary,
      .btn-secondary {
        padding: 0.5rem 1rem;
        font-size: 0.9rem;
      }
    }
  </style>
</head>
<body>
  <!-- „Éä„Éì„Ç≤„Éº„Ç∑„Éß„É≥„Éê„Éº -->
  <nav class="navbar">
    <a href="<%= root_path %>" class="navbar-brand">üåæ AGRR</a>
    <div class="navbar-nav">
      <% if logged_in? %>
        <%= link_to "Ëæ≤Â†¥", farms_path, class: "nav-link" %>
        <%= link_to "‰ΩúÁâ©", crops_path, class: "nav-link" %>
        <%= button_to "„É≠„Ç∞„Ç¢„Ç¶„Éà", auth_logout_path, method: :delete, class: "btn-secondary", style: "border: 2px solid #667eea;" %>
      <% else %>
        <%= link_to "„É≠„Ç∞„Ç§„É≥", auth_login_path, class: "btn-primary" %>
      <% end %>
    </div>
  </nav>

  <%= yield %>
</body>
</html>

