<%# 部分テンプレート: 1ほ場の期間セル群を描画する %>
<%# locals: arranged_cultivations(Array<Hash>), periods(Array<Hash>), period_index(Integer) %>
<% presenter ||= PlanningSchedulePresenter.new(periods: periods) %>
<% cells = presenter.period_cells(arranged_cultivations: arranged_cultivations, period_index: period_index) %>
<% cells.each do |cell| %>
  <% if cell[ScheduleTableFieldArranger::CELL_TYPE_KEY] == :cultivation %>
    <% if cell[ScheduleTableFieldArranger::CELL_RENDER_KEY] %>
      <%= raw render_cultivation_cell(cultivation_info: cell[ScheduleTableFieldArranger::CELL_CULTIVATION_KEY], colspan: cell[ScheduleTableFieldArranger::CELL_COLSPAN_KEY], period_index: period_index) %>
    <% end %>
  <% else %>
    <%= raw render_empty_cell(colspan: cell[ScheduleTableFieldArranger::CELL_COLSPAN_KEY], show_label: cell[ScheduleTableFieldArranger::CELL_SHOW_LABEL_KEY]) %>
  <% end %>
<% end %>


