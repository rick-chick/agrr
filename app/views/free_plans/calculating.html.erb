<div class="container">
  <div style="max-width: 900px; margin: 0 auto;">
    <div class="calculating-container">
      <!-- Header with compact spinner -->
      <div style="text-align: center; margin-bottom: 2rem;">
        <div style="display: inline-flex; align-items: center; gap: 1rem; background: white; padding: 1.25rem 2rem; border-radius: 12px; box-shadow: 0 4px 12px rgba(0,0,0,0.08);">
          <div class="spinner" style="width: 32px; height: 32px; border-width: 3px;"></div>
          <div style="text-align: left;">
            <h2 style="margin: 0; font-size: 1.2rem; font-weight: 700; color: #333;">🌱 作付け計画を作成中...</h2>
            <p style="margin: 0; font-size: 0.85rem; color: #718096;">
              <%= @free_crop_plan.farm.name %> - <%= @free_crop_plan.crop.name %>を分析しています
            </p>
          </div>
        </div>
      </div>
      
      <!-- Selection Summary -->
      <div class="summary-box" style="max-width: 500px; margin: 0 auto 1.5rem;">
        <div class="summary-item">
          <span class="summary-label">地域:</span>
          <span class="summary-value"><%= @free_crop_plan.farm.name %></span>
        </div>
        <div class="summary-item">
          <span class="summary-label">農場サイズ:</span>
          <span class="summary-value"><%= @free_crop_plan.area_sqm %>㎡</span>
        </div>
        <div class="summary-item">
          <span class="summary-label">作物:</span>
          <span class="summary-value"><%= @free_crop_plan.crop.name %></span>
        </div>
      </div>
      
      <!-- Advertisement -->
      <div class="ad-container">
        <div class="ad-label">スポンサー広告</div>
        <div class="ad-content">
          <div class="ad-placeholder">
            <div class="ad-placeholder-title">広告スペース</div>
            <div class="ad-placeholder-size">336 x 280</div>
            <p style="margin-top: 1rem; font-size: 0.85rem;">
              <!-- ここに実際の広告コードを挿入 -->
              Google AdSense や他の広告ネットワークのコードを配置
            </p>
          </div>
        </div>
      </div>
      
      <p style="color: #666; font-size: 0.85rem; margin-top: 1rem; text-align: center;">
        💡 計算には数秒かかる場合があります<br>
        このページは自動的に更新されます
      </p>
    </div>
  </div>
</div>

<!-- Auto-reload Script -->
<script>
  setTimeout(function() {
    window.location.reload();
  }, 3000);
</script>
